(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{238:function(e,t,a){e.exports=a(449)},243:function(e,t,a){},245:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(30),o=a.n(r),l=(a(243),a(21)),i=a(22),s=a(25),m=a(23),u=a(26),d=(a(245),a(457)),p=a(459),h=a(458),g=a(20),b=a(13),f=a.n(b),E=a(24),v=a(81),y=a(7),j=a.n(y),w=a(16),O=a(96),x=a.n(O),S=a(63),C=a.n(S),k=a(64),N=a.n(k),D=a(12),A=a.n(D),T=a(47),I=a.n(T),_=a(178),W=a.n(_),z=a(455),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1,logged_in:"",show:!1},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.handleLogout=function(){localStorage.removeItem("token"),a.setState({logged_in:!1,show:!1})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("token")&&this.setState({show:!0});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.theme,this.state.open);return c.a.createElement("div",{className:t.root},c.a.createElement(x.a,null),c.a.createElement(C.a,{position:"fixed",className:j()(t.appBar,Object(g.a)({},t.appBarShift,a))},c.a.createElement(N.a,{disableGutters:!a},c.a.createElement(I.a,{color:"inherit","aria-label":"Open drawer",className:j()(t.menuButton,a&&t.hide)},c.a.createElement(W.a,null)),c.a.createElement(A.a,{variant:"h6",color:"inherit",noWrap:!0,style:{flexGrow:1}},"Attendance Web"),this.state.show&&c.a.createElement(z.a,{to:"/",style:{textDecoration:"none",color:"white"}},c.a.createElement(A.a,{onClick:this.handleLogout,variant:"h6",color:"inherit",style:{marginRight:10}},"Logout")))),c.a.createElement("main",{className:j()(t.content,Object(g.a)({},t.contentShift,a))},c.a.createElement("div",{className:t.drawerHeader})))}}]),t}(c.a.Component),M=Object(w.withStyles)(function(e){return{root:{display:"block"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(v.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:3*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},listStyle:{display:"block",margin:"auto",width:80,padding:0}}},{withTheme:!0})(L),P=a(27),B=a.n(P),F=a(58),R=a.n(F),q=a(57),X=a.n(q),Y=a(42),G=a.n(Y),V=a(29),J=a.n(V),U=a(31),H=a.n(U),$=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={age:"",semester:"",subject:"",subjectCode:""},a.handleSubmit=function(e){e.preventDefault(),a.setState({semester:"",subject:"",subjectCode:""})},a.handleProceed=function(e){e.preventDefault()},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return c.a.createElement("div",{className:e.root},c.a.createElement(M,null),c.a.createElement(H.a,{className:e.paper},c.a.createElement("form",{autoComplete:"off"},c.a.createElement("div",null,c.a.createElement(A.a,{component:"h2",variant:"h3",align:"center",gutterBottom:!0,className:e.text},"SUBJECT"," ")),c.a.createElement(G.a,{className:e.formControl},c.a.createElement(X.a,{value:this.state.semester,onChange:this.handleChange,name:"semester",displayEmpty:!0,className:e.selectEmpty},c.a.createElement(J.a,{value:"",disabled:!0},"Semester"),c.a.createElement(J.a,{value:1}," Semester 1"),c.a.createElement(J.a,{value:2}," Semester 2"),c.a.createElement(J.a,{value:3}," Semester 3"),c.a.createElement(J.a,{value:4}," Semester 4"),c.a.createElement(J.a,{value:5}," Semester 5"),c.a.createElement(J.a,{value:6}," Semester 6"),c.a.createElement(J.a,{value:7}," Semester 7"),c.a.createElement(J.a,{value:8}," Semester 8"))),c.a.createElement(R.a,{style:{width:500},id:"subject",label:"Subject",type:"text",name:"subject",margin:"normal",variant:"outlined",value:this.state.subject,onChange:this.handleChange}),c.a.createElement(R.a,{style:{width:500},id:"subject-code",label:"Subject-code",type:"text",name:"subjectCode",margin:"normal",variant:"outlined",value:this.state.subjectCode,onChange:this.handleChange}),c.a.createElement("div",{className:e.intro},c.a.createElement(B.a,{variant:"contained",color:"secondary",className:e.button,onClick:this.handleSubmit},"Submit"),c.a.createElement(B.a,{variant:"contained",color:"secondary",className:e.button,onClick:this.handleProceed},"Proceed")))))}}]),t}(c.a.Component),K=Object(w.withStyles)(function(e){return{root:{margin:"auto",maxWidth:550,flexWrap:"wrap",textAlign:"center"},formControl:{width:200,fontSize:16},button:{color:"white",padding:15,margin:20,width:300,fontSize:18,"&:hover":{backgroundColor:"#0288d1",color:"white"}},paper:{padding:25},intro:{display:"flex"}}})($),Q=a(3),Z=(Object(w.createMuiTheme)({typography:{useNextVariants:!0}}),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={fname:"",lname:"",sap:"",div:""},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return c.a.createElement("div",{className:e.root},c.a.createElement(M,null),c.a.createElement(Q.c,{container:!0,justify:"center",spacing:24},c.a.createElement(Q.c,{item:!0},c.a.createElement(Q.d,{className:e.paper},c.a.createElement("div",null,c.a.createElement(Q.f,{component:"h2",variant:"h3",align:"center",gutterBottom:!0,className:e.text},"STUDENT ")),c.a.createElement("form",null,c.a.createElement(Q.c,{container:!0,justify:"center",spacing:24},c.a.createElement(Q.c,{item:!0,xs:7},c.a.createElement(Q.e,{name:"fname",id:"outlined-name",label:"First Name",value:this.state.name,margin:"normal",variant:"outlined",onChange:this.handleChange,fullWidth:!0})),c.a.createElement(Q.c,{item:!0,xs:7},c.a.createElement(Q.e,{name:"lname",id:"outlined-name",label:"Last Name",value:this.state.name,margin:"normal",variant:"outlined",onChange:this.handleChange,fullWidth:!0})),c.a.createElement(Q.c,{item:!0,xs:7},c.a.createElement(Q.e,{name:"sap",id:"outlined-name",label:"Sap Id",value:this.state.name,margin:"normal",variant:"outlined",onChange:this.handleChange,fullWidth:!0})),c.a.createElement(Q.c,{item:!0,xs:7},c.a.createElement(G.a,{className:e.formControl},c.a.createElement(X.a,{value:this.state.div,onChange:this.handleChange,name:"div",displayEmpty:!0,className:e.selectEmpty},c.a.createElement(J.a,{value:"",disabled:!0},"Division"),c.a.createElement(J.a,{value:"A"},"A"),c.a.createElement(J.a,{value:"B"},"B")))),c.a.createElement(Q.c,{item:!0,xs:7}),c.a.createElement(Q.c,{item:!0,xs:6},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:e.button},"Submit"))))))))}}]),t}(c.a.Component)),ee=Object(w.withStyles)(function(e){return{root:{margin:"auto",maxWidth:650,height:"100vh",flexWrap:"wrap",textAlign:"center"},button:{padding:20,margin:20,width:200,"&:hover":{backgroundColor:"black"}},input:{display:"none"},text:{color:"black",paddingBottom:10},paper:{padding:25},formControl:{width:200,fontSize:16}}})(Z),te=a(456),ae=a(100),ne=a.n(ae),ce=a(66),re=a.n(ce),oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={age:"",fname:"",lname:"",password:"",spec:"",teacherId:"",signup:!1},a.handleSubmit=function(){var e=Object(E.a)(f.a.mark(function e(t){var n,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://wizdem.pythonanywhere.com/Attendance/signup-teacher/",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({fname:a.state.fname,lname:a.state.lname,spec:a.state.spec,teacherId:a.state.teacherId,password:a.state.password})});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,200===n.status&&(localStorage.setItem("token",c.token),a.setState({signup:!0}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return c.a.createElement("div",{className:e.root},c.a.createElement(M,null),c.a.createElement(Q.d,{className:e.paper},c.a.createElement(re.a,{className:e.avatar,align:"center",style:{margin:"auto",marginBottom:15}},c.a.createElement(ne.a,null)),c.a.createElement(Q.f,{component:"h1",variant:"h5"},"Sign Up"),c.a.createElement(Q.c,{container:!0,spacing:12},c.a.createElement(Q.c,{item:!0,xs:!0}),c.a.createElement(Q.c,{item:!0,xs:!0},c.a.createElement("div",null,c.a.createElement("form",{autoComplete:"off"},c.a.createElement(Q.c,{container:!0},c.a.createElement(Q.c,{item:!0,xs:12},c.a.createElement(Q.e,{name:"fname",id:"outlined-name",label:"First Name",value:this.state.fname,onChange:this.handleChange,margin:"normal",autoFocus:!0,fullWidth:!0})),c.a.createElement(Q.c,{item:!0,xs:12},c.a.createElement(Q.e,{name:"lname",id:"outlined-name",label:"Last Name",value:this.state.lname,onChange:this.handleChange,margin:"normal",fullWidth:!0})),c.a.createElement(Q.c,{item:!0,xs:12},c.a.createElement(Q.e,{name:"password",id:"outlined-name",label:"Password",type:"password",value:this.state.password,onChange:this.handleChange,margin:"normal",fullWidth:!0})),c.a.createElement(Q.c,{item:!0,xs:12},c.a.createElement(Q.e,{name:"spec",id:"outlined-name",label:"Specialisation",value:this.state.spec,onChange:this.handleChange,margin:"normal",fullWidth:!0})),c.a.createElement(Q.c,{item:!0,xs:12},c.a.createElement(Q.e,{name:"teacherId",id:"outlined-name",label:"Teacher-ID",value:this.state.teacherId,onChange:this.handleChange,margin:"normal",fullWidth:!0})))),c.a.createElement("div",null,c.a.createElement(Q.a,{variant:"contained",color:"primary",className:e.button,onClick:this.handleSubmit},"Submit")))),c.a.createElement(Q.c,{item:!0,xs:!0})),c.a.createElement(Q.f,{variant:"h6",style:{marginTop:10}},"Already have an account?"," ",c.a.createElement(z.a,{to:"/",style:{textDecoration:"none"}},"Sign In"))),this.state.signup&&c.a.createElement(te.a,{to:"/teachermain"}))}}]),t}(c.a.Component),le=Object(w.withStyles)(function(e){return{root:{margin:"auto",maxWidth:550,height:"100vh",flexWrap:"wrap",textAlign:"center"},Grid:{padding:e.spacing.unit,textAlign:"center"},text:{color:"black"},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main},button:{margin:20,padding:2,height:50,width:300},paper:{padding:15,alignItems:"center"}}})(oe),ie=a(8),se=(a(129),a(133)),me=a(183),ue=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleChange,n=e.startDate;return c.a.createElement("div",{className:t.root},c.a.createElement("div",{className:"picker"},c.a.createElement(se.b,{utils:me.a},c.a.createElement(se.a,{label:"Choose Date",value:n,disableFuture:!0,openTo:"year",views:["month","day"],onChange:a}))),c.a.createElement("br",null))}}]),t}(c.a.Component),de=Object(w.withStyles)(function(e){return{root:{margin:"auto",textAlign:"center",display:"flex"},date:{padding:"10px 5px",fontSize:20,textAlign:"center",width:175,borderRadius:5},button:{margin:"0px 10px",padding:6,"&:hover":{backgroundColor:"black",color:"white"}}}})(ue),pe=a(44),he=a.n(pe),ge=a(46),be=a.n(ge),fe=a(43),Ee=a.n(fe),ve=a(45),ye=a.n(ve),je=a(38),we=a.n(je),Oe=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:16}}})(Ee.a);var xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={attendance:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.attendance;this.setState({attendance:e}),console.log(this.state)}},{key:"componentDidUpdate",value:function(e){e.attendance!==this.props.attendance&&this.setState({attendance:this.props.attendance})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.attendance;return c.a.createElement("div",null,c.a.createElement(H.a,{className:t.root},0==a.length&&c.a.createElement(A.a,{variant:"h6",align:"center"},"No lecture today")),c.a.createElement(H.a,null,c.a.createElement(he.a,{className:t.table},c.a.createElement(ye.a,null,c.a.createElement(we.a,null,c.a.createElement(Oe,{className:t.tableCenter,style:{fontSize:"1rem"}},"Name"),c.a.createElement(Oe,{className:t.tableCenter,style:{fontSize:"1rem"}},"Sap ID"),c.a.createElement(Oe,{className:t.tableCenter,style:{fontSize:"1rem"}},"Attendance"),c.a.createElement(Oe,{className:t.tableCenter,style:{fontSize:"1rem"}},"Timing"))),c.a.createElement(be.a,null,a.length>0&&a.map(function(a){return a.attendance_list.map(function(n){return c.a.createElement(we.a,{className:t.row,key:n.id},c.a.createElement(Oe,{component:"th",scope:"row",className:t.tableCenter},c.a.createElement(z.a,{to:{pathname:"/student/$".concat(n.sapID),subject:e.props.subject,sapID:n.sapID},style:{textDecoration:"none",color:"black"}},n.name)),c.a.createElement(Oe,{className:t.tableCenter},n.sapID),c.a.createElement(Oe,{className:t.tableCenter},n.attendance),c.a.createElement(Oe,{className:t.tableCenter},a.time))})})))))}}]),t}(c.a.Component),Se=Object(w.withStyles)(function(e){return{root:Object(g.a)({marginTop:3*e.spacing.unit,overflowX:"auto",margin:"auto"},"@media (max-width:780px)",{width:"100%!important"}),table:{minWidth:350},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},red:{backgroundColor:"#f44336",color:"white",textAlign:"center!important"},green:{backgroundColor:"#00c853",color:"white",textAlign:"center!important"},tableCenter:{textAlign:"center!important",padding:"0px!important"}}})(xe),Ce=function(e,t){var a=Object(n.useState)(null),c=Object(ie.a)(a,2),r=c[0],o=c[1];return Object(n.useEffect)(function(){function t(){return(t=Object(E.a)(f.a.mark(function t(){var a,n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("sending http request"),t.prev=1,t.next=4,fetch(e,{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Token ".concat(localStorage.getItem("token"))}});case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,200===a.status&&o(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[1,11]])}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},t),[r]},ke=a(34),Ne=a.n(ke),De=Object(w.withStyles)(function(e){return{spacing:Object(g.a)({padding:"25px 50px"},e.breakpoints.down("sm"),{padding:10,margin:"auto"})}})(function(e){var t=Object(n.useState)(new Date),a=Object(ie.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)("21-7-2019"),i=Object(ie.a)(l,2),s=i[0],m=i[1];Object(n.useEffect)(function(){console.log("use effect is running");var e=r;console.log(e);var t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();m(t+"-"+a+"-"+n),console.log(s)});var u=Ce("https://wizdem.pythonanywhere.com/Attendance/get-attendance-of-day/".concat(e.location.state.name,"/").concat(e.location.state.div,"/").concat(s),[s]),d=Object(ie.a)(u,1)[0],p=d?d.attendance:[];console.log(s),console.log(p);var h=function(){var e=Object(E.a)(f.a.mark(function e(t){var a,n,c,o,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),a=r,console.log(a),n=a.getDate(),c=a.getMonth()+1,o=a.getFullYear(),m(l=n+"-"+c+"-"+o),console.log(l),console.log(s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),g=e.classes;return c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(Ne.a,{container:!0},c.a.createElement(Ne.a,{item:!0,md:12,lg:9,className:g.spacing},c.a.createElement(Se,{attendance:p,subject:e.location.state.name})),c.a.createElement(Ne.a,{item:!0,md:12,lg:3,className:g.spacing},c.a.createElement(de,{startDate:r,handleChange:function(e){o(e),console.log(r)},updateChange:h}))))}),Ae=Object(w.withStyles)(function(e){return{spacing:Object(g.a)({padding:"25px 50px"},e.breakpoints.down("sm"),{padding:10,margin:"auto"}),smallSpacing:Object(g.a)({padding:"25px"},e.breakpoints.down("sm"),{padding:10,margin:"auto"})}})(function(e){var t=Object(n.useState)(new Date),a=Object(ie.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(new Date),i=Object(ie.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(ie.a)(u,2),p=d[0],h=d[1],g=Object(n.useState)(""),b=Object(ie.a)(g,2),v=b[0],y=b[1];Object(n.useEffect)(function(){console.log("use effect is running");var e=r,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear(),c=s,o=c.getDate()+"-"+(c.getMonth()+1)+"-"+c.getFullYear();h(t+"-"+a+"-"+n),y(o)});var j=Ce("https://wizdem.pythonanywhere.com/Attendance/get-attendance-of-range/".concat(e.location.state.name,"/").concat(e.location.state.div,"/").concat(p,"/").concat(v),[p,v]),w=Object(ie.a)(j,1)[0],O=w?w.attendance:[],x=function(){var e=Object(E.a)(f.a.mark(function e(t){var a,n,c,o,l,i,m,u,d;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=(a=r).getDate(),c=a.getMonth()+1,o=a.getFullYear(),i=(l=s).getDate(),m=l.getMonth()+1,u=l.getFullYear(),d=i+"-"+m+"-"+u,h(n+"-"+c+"-"+o),y(d);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),S=e.classes;return c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(Ne.a,{container:!0},c.a.createElement(Ne.a,{item:!0,xs:12,sm:12,md:12,lg:8,className:S.spacing},c.a.createElement(Se,{attendance:O,subject:e.location.state.name})),c.a.createElement(Ne.a,{item:!0,xs:12,sm:12,md:12,lg:2,className:S.spacing},c.a.createElement(de,{startDate:r,handleChange:function(e){o(e)},updateChange:x})),c.a.createElement(Ne.a,{item:!0,xs:12,sm:12,md:12,lg:2,className:S.spacing},c.a.createElement(de,{startDate:s,handleChange:function(e){m(e)},updateChange:x}))))}),Te=(c.a.Component,a(180)),Ie=a.n(Te),_e=a(68),We=a.n(_e),ze=a(51),Le=a.n(ze),Me=a(69),Pe=a.n(Me),Be=a(70),Fe=a.n(Be),Re=a(102),qe=a.n(Re),Xe=a(104),Ye=a.n(Xe),Ge=a(103),Ve=a.n(Ge),Je=a(39),Ue=a.n(Je),He=a(40),$e=a.n(He),Ke=a(52),Qe=a.n(Ke),Ze=a(176),et=function(){function e(){return(e=Object(E.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("download http is running"),e.prev=1,e.next=4,fetch(t,{method:"GET",headers:{"Content-Type":"text/csv","X-Requested-With":"XMLHttpRequest",Authorization:"Token ".concat(localStorage.getItem("token"))},responseType:"blob"}).then(function(e){return e.blob()}).then(function(e){return Ze(e,"test.csv")});case 4:a=e.sent,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}))).apply(this,arguments)}return[function(t){return e.apply(this,arguments)}]},tt=Object(w.withStyles)(function(e){return{card:{height:225},content:{padding:2},button:{margin:.8*e.spacing.unit},leftIcon:{marginRight:e.spacing.unit,marginLeft:e.spacing.unit},rightIcon:{marginRight:e.spacing.unit,marginLeft:e.spacing.unit}}})(function(e){var t=Object(n.useState)(new Date),a=Object(ie.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(new Date),i=Object(ie.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(ie.a)(u,2),p=(d[0],d[1]),h=Object(n.useState)(""),g=Object(ie.a)(h,2),b=(g[0],g[1]),f=Object(n.useState)(!1),E=Object(ie.a)(f,2),v=E[0],y=E[1],j=Object(n.useState)(!1),w=Object(ie.a)(j,2),O=w[0],x=w[1],S=Object(n.useState)(""),C=Object(ie.a)(S,2),k=C[0],N=C[1],D=Object(n.useState)({}),T=Object(ie.a)(D,2),I=T[0],_=T[1],W=et(),L=Object(ie.a)(W,1)[0],M=function(e){o(e)},P=function(e){m(e)},B=function(e,t){console.log(e);var a=r,n=a.getDate(),c=a.getMonth()+1,o=a.getFullYear(),l=s,i=n+"-"+c+"-"+o,m=l.getDate()+"-"+(l.getMonth()+1)+"-"+l.getFullYear();p(i),b(m),L("https://wizdem.pythonanywhere.com/Attendance/get_csv/".concat(I,"/").concat(k,"/").concat(i,"/").concat(m))},F=function(e){N(e.div),_(e),y(!0)},R=function(e){N(e.div),_(e.name),x(!0)},q=function(){y(!1)},X=function(){x(!1)},Y=e.classes;return c.a.createElement(Q.c,{container:!0,spacing:16},e.class_subjects.map(function(e){return c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:6},c.a.createElement(Pe.a,{className:Y.card},c.a.createElement(Q.b,null,c.a.createElement(A.a,{variant:"h5",gutterBottom:!0,className:Y.content},c.a.createElement("b",null,e.name)),c.a.createElement(A.a,{variant:"h6",gutterBottom:!0,className:Y.content},"Semester",e.semester),c.a.createElement(A.a,{variant:"title",gutterBottom:!0,className:Y.content},e.subjectCode)),c.a.createElement(Fe.a,{disableActionSpacing:!0,style:{}},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button,onClick:R.bind(void 0,e)},"Download",c.a.createElement(qe.a,{className:Y.rightIcon})),c.a.createElement(Ue.a,{open:O,onClose:X,"aria-labelledby":"form-dialog-title",variant:"outlined",style:{padding:20}},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(Qe.a,{id:"form-dialog-title",style:{flexGrow:1}},"SELECT Dates"),c.a.createElement(Q.a,{onClick:X,color:"primary",style:{padding:"10px"}},"close")),c.a.createElement($e.a,null,c.a.createElement(Q.c,{container:!0,spacing:24,style:{padding:10}},c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:4},c.a.createElement(de,{startDate:r,handleChange:M})),c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:4},c.a.createElement(de,{startDate:s,handleChange:P})),c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:4},c.a.createElement(Q.a,{onClick:B.bind(void 0,e.name,e.div),color:"primary",variant:"contained",style:{padding:"10px"}},"Download"))))),c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button,onClick:F.bind(void 0,e)},"View",c.a.createElement(Ve.a,{className:Y.rightIcon})),c.a.createElement(Ue.a,{open:v,onClose:q,"aria-labelledby":"form-dialog-title"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(Qe.a,{id:"form-dialog-title",style:{flexGrow:1}},"SELECT VIEWS"),c.a.createElement(Q.a,{onClick:q,color:"primary",style:{padding:"10px"}},"close")),c.a.createElement($e.a,null,c.a.createElement(z.a,{to:{pathname:"/attendanceTable/".concat(e.div),state:e},style:{textDecoration:"none"}},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button},"View single date")),c.a.createElement(z.a,{to:{pathname:"/attendanceTable/range/".concat(e.div),state:e},style:{textDecoration:"none"}},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button},"View range date")))),c.a.createElement(z.a,{to:{pathname:"/editTable/".concat(e.div),state:e},style:{textDecoration:"none"}},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button},"Edit",c.a.createElement(Ye.a,{className:Y.rightIcon}))))))}))}),at=(a(176),Object(w.withStyles)(function(e){return{card:{height:250},content:{padding:2},button:{margin:.8*e.spacing.unit},leftIcon:{marginRight:e.spacing.unit,marginLeft:e.spacing.unit},rightIcon:{marginRight:e.spacing.unit,marginLeft:e.spacing.unit}}})(function(e){var t=Object(n.useState)(new Date),a=Object(ie.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(new Date),i=Object(ie.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(ie.a)(u,2),p=(d[0],d[1]),h=Object(n.useState)(""),g=Object(ie.a)(h,2),b=(g[0],g[1]),f=Object(n.useState)(""),E=Object(ie.a)(f,2),v=E[0],y=E[1],j=Object(n.useState)({}),w=Object(ie.a)(j,2),O=w[0],x=w[1],S=Object(n.useState)(!1),C=Object(ie.a)(S,2),k=C[0],N=C[1],D=Object(n.useState)(!1),T=Object(ie.a)(D,2),I=T[0],_=T[1],W=et(),L=Object(ie.a)(W,1)[0],M=function(e){o(e)},P=function(e){m(e)},B=function(e,t){console.log(e);var a=r,n=a.getDate(),c=a.getMonth()+1,o=a.getFullYear(),l=s,i=n+"-"+c+"-"+o,m=l.getDate()+"-"+(l.getMonth()+1)+"-"+l.getFullYear();p(i),b(m),L("https://wizdem.pythonanywhere.com/Attendance/get_csv/".concat(O,"/").concat(v,"/").concat(i,"/").concat(m))},F=function(e){console.log(e),y(e.div),x(e),N(!0)},R=function(e){console.log(e),y(e.div),x(e.name),_(!0)},q=function(){N(!1)},X=function(){_(!1)},Y=e.classes;return c.a.createElement("div",null,c.a.createElement(Q.c,{container:!0,spacing:16},e.taught_subjects.map(function(e){return c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:6},c.a.createElement(Pe.a,{className:Y.card},c.a.createElement(Q.b,null,c.a.createElement(A.a,{variant:"h5",gutterBottom:!0,className:Y.content},c.a.createElement("b",null,e.name)),c.a.createElement(A.a,{variant:"h6",gutterBottom:!0,className:Y.content},"Semester",e.semester),c.a.createElement(A.a,{variant:"title",gutterBottom:!0,className:Y.content},e.subjectCode),c.a.createElement(A.a,{variant:"title",gutterBottom:!0,className:Y.content},e.div)),c.a.createElement(Fe.a,{disableActionSpacing:!0},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button,onClick:R.bind(void 0,e)},"Download",c.a.createElement(qe.a,{className:Y.rightIcon})),c.a.createElement(Ue.a,{open:I,onClose:X,"aria-labelledby":"form-dialog-title",variant:"outlined",style:{padding:20}},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(Qe.a,{id:"form-dialog-title",style:{flexGrow:1}},"SELECT Dates"),c.a.createElement(Q.a,{onClick:X,color:"primary",style:{padding:"10px"}},"close")),c.a.createElement($e.a,null,c.a.createElement(Q.c,{container:!0,spacing:24,style:{padding:10}},c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:4},c.a.createElement(de,{startDate:r,handleChange:M})),c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:4},c.a.createElement(de,{startDate:s,handleChange:P})),c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:4},c.a.createElement(Q.a,{onClick:B.bind(void 0,e.name,e.div),color:"primary",variant:"contained",style:{padding:"10px"}},"Download"))))),c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button,onClick:F.bind(void 0,e)},"View",c.a.createElement(Ve.a,{className:Y.rightIcon})),c.a.createElement(Ue.a,{open:k,onClose:q,"aria-labelledby":"form-dialog-title"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement(Qe.a,{id:"form-dialog-title",style:{flexGrow:1}},"SELECT VIEWS"),c.a.createElement(Q.a,{onClick:q,color:"primary",style:{padding:"10px"}},"close")),c.a.createElement($e.a,null,c.a.createElement(z.a,{to:{pathname:"/attendanceTable/".concat(v),state:O},style:{textDecoration:"none"}},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button},"View single date")),c.a.createElement(z.a,{to:{pathname:"/attendanceTable/range/".concat(v),state:O},style:{textDecoration:"none"}},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button},"View range date")))),c.a.createElement(z.a,{to:{pathname:"/editTable/".concat(e.div),state:e},style:{textDecoration:"none"}},c.a.createElement(Q.a,{variant:"contained",color:"primary",className:Y.button},"Edit",c.a.createElement(Ye.a,{className:Y.rightIcon}))))))})))}));function nt(e){var t=e.children,a=e.dir;return c.a.createElement(A.a,{component:"div",dir:a,style:{padding:15}},t)}var ct=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={value:0,steacher:!0,cteacher:!0},a.handleChange=function(e,t){a.setState({value:t})},a.handleChangeIndex=function(e){a.setState({value:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme;return console.log(this.props),c.a.createElement("div",{className:t.root},c.a.createElement(C.a,{position:"static",color:"default"},c.a.createElement(We.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},c.a.createElement(Le.a,{label:"My Subject",style:{fontFamily:"Arial",fontSize:18,color:"black"}}),c.a.createElement(Le.a,{label:"My Class",style:{fontFamily:"Arial",fontSize:18,color:"black"}}))),c.a.createElement(Ie.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},c.a.createElement(nt,{dir:a.direction},c.a.createElement(at,{taught_subjects:this.props.data.taught_subjects})),c.a.createElement(nt,{dir:a.direction},c.a.createElement(tt,{class_subjects:this.props.data.class_subjects}))))}}]),t}(c.a.Component),rt=Object(w.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,minWidth:300,maxWidth:1100,margin:"auto"}}},{withTheme:!0})(ct),ot=a(71),lt=a.n(ot),it=function(e){Object(n.useEffect)(function(){console.log("teacher main use effect")});var t=null,a=Ce("https://wizdem.pythonanywhere.com/Attendance/dashboard-teacher/".concat(e.location.state),[]),r=Object(ie.a)(a,1)[0];return r&&(t={class_subjects:r.class_subjects,taught_subjects:r.taught_subjects,division_they_are_class_teacher_of:r.division_they_are_class_teacher_of},console.log(t)),r?c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(Ne.a,{container:!0},c.a.createElement(Ne.a,{item:!0,xs:12,sm:12,md:12},c.a.createElement(rt,{data:t})))):c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(lt.a,{style:{marginTop:"-44px"},color:"secondary"}))},st=a(50),mt=a.n(st),ut=a(65),dt=a.n(ut),pt=a(67),ht=a.n(pt),gt=a(98),bt=a.n(gt),ft=Object(w.withStyles)(function(e){return{main:Object(g.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(function(e){var t=Object(n.useState)(""),a=Object(ie.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(""),i=Object(ie.a)(l,2),s=i[0],m=i[1],u=(JSON.stringify({teacherId:s,password:r}),function(){var e=Object(n.useState)(null),t=Object(ie.a)(e,2),a=(t[0],t[1],Object(n.useState)(!1)),c=Object(ie.a)(a,2),r=c[0],o=c[1],l=Object(n.useState)(!1),i=Object(ie.a)(l,2),s=i[0],m=i[1];function u(){return(u=Object(E.a)(f.a.mark(function e(t,a){var n,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending http request"),e.prev=1,e.next=4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:a});case 4:return n=e.sent,console.log(n),500===n.status&&o(!0),e.next=9,n.json();case 9:c=e.sent,console.log(r),200===n.status&&(localStorage.setItem("token",c.token),m(!0)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}))).apply(this,arguments)}return{logged_in:s,open:r,fetchCall:function(e,t){return u.apply(this,arguments)},closeBox:function(){o(!1)},logout:function(){localStorage.removeItem("token"),m(!1)}}}()),d=u.logged_in,p=u.open,h=u.fetchCall,g=u.closeBox,b=(u.logout,function(){var e=Object(E.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=JSON.stringify({teacherId:s,password:r}),h("https://wizdem.pythonanywhere.com/Attendance/login-teacher/",a);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),v=function(){g()},y=e.classes;return c.a.createElement("div",{className:y.main},c.a.createElement(M,null),c.a.createElement(H.a,{className:y.paper},c.a.createElement(re.a,{className:y.avatar},c.a.createElement(ne.a,null)),c.a.createElement(Q.f,{component:"h1",variant:"h5"},"Sign In"),c.a.createElement("form",{autoComplete:"off",onSubmit:b},c.a.createElement(G.a,{margin:"normal",required:!0,fullWidth:!0},c.a.createElement(dt.a,{htmlFor:"email"},"Teacher Id"),c.a.createElement(mt.a,{id:"name",name:"teacherId",autoComplete:"email",autoFocus:!0,value:s,onChange:function(e){return m(e.target.value)}})),c.a.createElement(G.a,{margin:"normal",required:!0,fullWidth:!0},c.a.createElement(dt.a,{htmlFor:"password"},"Password"),c.a.createElement(mt.a,{name:"password",type:"password",id:"password",value:r,onChange:function(e){return o(e.target.value)},autoComplete:"current-password"})),c.a.createElement(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:y.submit,onClick:b},"Sign In")),c.a.createElement(Q.f,{variant:"h6",style:{marginTop:10,textAlign:"center"}},"Don't have an account? ",c.a.createElement("br",null),c.a.createElement(z.a,{to:"/teacher",style:{textDecoration:"none"}},"Sign Up"))),d&&c.a.createElement(te.a,{to:{pathname:"/teachermain",state:s,logged_in:d}}),c.a.createElement(Ue.a,{open:p,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(ht.a,null,c.a.createElement(bt.a,{id:"alert-dialog-description"},"Incorrect Teacher ID and Password. Please Try Again.")),c.a.createElement($e.a,null,c.a.createElement(B.a,{onClick:v,color:"primary",autoFocus:!0},"Ok"))))}),Et=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,fontSize:20},body:{fontSize:16}}})(Ee.a);function vt(e,t,a){return 1,{Sap_id:e,Name:t,p_a:a}}var yt=[vt("60004170103","Shail Shah","Present"),vt("60004170122","Viram Shah","Present"),vt("60004170084","Priya Shah","Present"),vt("60004170073","Nirav Jain","Absent"),vt("60004170083","Preet Soni","Absent")],jt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(Q.c,{container:!0,className:e.table},c.a.createElement(Q.c,{item:!0,xs:12},c.a.createElement(A.a,{align:"center",component:"h2",variant:"display3"},"Attendance for Date:"))),c.a.createElement(Q.c,{container:!0,className:e.table},c.a.createElement(Q.c,{item:!0,xs:2}),c.a.createElement(Q.c,{item:!0,xs:8},c.a.createElement(Q.d,null,c.a.createElement(he.a,null,c.a.createElement(ye.a,null,c.a.createElement(we.a,null,c.a.createElement(Et,null,"SAP ID"),c.a.createElement(Et,null,"Name"),c.a.createElement(Et,null,"Present/Absent"))),c.a.createElement(be.a,null,yt.map(function(t){return c.a.createElement(we.a,{className:e.row,key:t.id},c.a.createElement(Et,{component:"th",scope:"row"},t.Sap_id),c.a.createElement(Et,null,t.Name),"present"==t.p_a.toLowerCase()?c.a.createElement(Et,{className:e.green},t.p_a):c.a.createElement(Et,{className:e.red},t.p_a))}))))),c.a.createElement(Q.c,{item:!0,xs:2})))}}]),t}(c.a.Component),wt=Object(w.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:400},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},red:{color:"red"},green:{color:"green"}}})(jt),Ot=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,fontSize:20},body:{fontSize:16}}})(Ee.a),xt=Object(w.withStyles)(function(e){return{root:Object(g.a)({width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},"@media (max-width:780px)",{width:"100%!important"}),table:{minWidth:400},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},red:{color:"red"},green:{color:"green"}}})(function(e){var t=null,a=Ce("https://wizdem.pythonanywhere.com/Attendance/get-attendance-of-student/".concat(e.location.subject,"/").concat(e.location.sapID),[]),n=Object(ie.a)(a,1)[0];n&&(t={attendance:n.attendance,attendance_count:n.attendance_count,attendance_total:n.attendance_total,attendance_percentage:n.attendance_percentage});var r=e.classes;return t?c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(Q.c,{container:!0},c.a.createElement(Q.c,{item:!0,xs:2}),c.a.createElement(Q.c,{item:!0,xs:8},c.a.createElement(Q.d,{style:{padding:20}},c.a.createElement(Q.c,{container:!0,className:r.table},c.a.createElement(Q.c,{item:!0,xs:6},c.a.createElement(A.a,{align:"center",variant:"h5"},"Sap ID: ",e.location.sapID)),c.a.createElement(Q.c,{item:!0,xs:6,align:"center",style:{textAlign:"justify"}},c.a.createElement(A.a,{variant:"h6"},"Attendance count : ",t.attendance_count),c.a.createElement(A.a,{variant:"h6"},"Attendance percentage : ",t.attendance_percentage),c.a.createElement(A.a,{variant:"h6"},"Attendance total : ",t.attendance_total)))),c.a.createElement(Q.c,{item:!0,xs:12,sm:12},c.a.createElement(Q.d,null,c.a.createElement(he.a,null,c.a.createElement(ye.a,null,c.a.createElement(we.a,null,c.a.createElement(Ot,{style:{fontSize:"1rem"}},"Date"),c.a.createElement(Ot,{style:{fontSize:"1rem"}},"Time"),c.a.createElement(Ot,{style:{fontSize:"1rem"}},"Present/Absent"))),c.a.createElement(be.a,null,t.attendance.map(function(e){return c.a.createElement(we.a,{className:r.row,key:e.id},c.a.createElement(Ot,{component:"th",scope:"row"},e.date),c.a.createElement(Ot,{component:"th",scope:"row"},e.timing),"1"===e.attendance?c.a.createElement(Ot,{className:r.green},e.attendance):c.a.createElement(Ot,{className:r.red},e.attendance))})))))),c.a.createElement(Q.c,{item:!0,xs:2}))):c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(lt.a,{style:{marginTop:"-44px"},color:"secondary"}))}),St=a(130),Ct=a.n(St),kt=a(131),Nt=a.n(kt),Dt=a(99),At=a.n(Dt),Tt=Object(w.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,fontSize:20},body:{fontSize:16}}})(Ee.a),It=Object(w.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:300},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},red:{color:"red"},green:{color:"green"}}})(function(e){var t=Object(n.useState)(new Date),a=Object(ie.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)("21-7-2019"),i=Object(ie.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)([]),d=Object(ie.a)(u,2),p=d[0],h=d[1],g=Ce("https://wizdem.pythonanywhere.com/Attendance/get-attendance-of-day/".concat(e.location.state.name,"/").concat(e.location.state.div,"/").concat(s),[s]),b=Object(ie.a)(g,1)[0];Object(n.useEffect)(function(){h(b?b.attendance:[])},[b]),console.log(p),Object(n.useEffect)(function(){var e=r,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();m(t+"-"+a+"-"+n)});var y=function(){var e=Object(n.useState)(null),t=Object(ie.a)(e,2),a=(t[0],t[1],Object(n.useState)("")),c=Object(ie.a)(a,2),r=c[0],o=c[1];function l(){return(l=Object(E.a)(f.a.mark(function e(t,a){var n,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("edit http request"),e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Token ".concat(localStorage.getItem("token"))},body:a});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,n&&(o(c.success_message),200===n.status&&alert("Attendance Edited"));case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}return[r,function(e,t){return l.apply(this,arguments)}]}(),j=Object(ie.a)(y,2),w=j[0],O=j[1],x=function(){var t=Object(E.a)(f.a.mark(function t(a){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n={attendance_list:p},O("https://wizdem.pythonanywhere.com/Attendance/edit-attendance-of-day/".concat(e.location.state.name,"/").concat(e.location.state.div,"/").concat(s),JSON.stringify(n));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),S=function(e,t){var a=p.map(function(e){return e});1===a[e].attendance_list[t].attendance?(a[e].attendance_list[t]=Object(v.a)({},a[e].attendance_list[t],{attendance:0}),h(a)):(a[e].attendance_list[t]=Object(v.a)({},a[e].attendance_list[t],{attendance:1}),console.log(a),h(a))},C=e.classes;return c.a.createElement("div",null,c.a.createElement(M,null),c.a.createElement(Q.c,{container:!0,className:C.table},c.a.createElement(Q.c,{item:!0,xs:12},0===p.length&&c.a.createElement(A.a,{variant:"h6",style:{margin:10}},"No lecture today"))),c.a.createElement(Q.c,{container:!0,spacing:24,style:{padding:12}},c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:8,className:C.attendTable},c.a.createElement(Q.d,null,c.a.createElement(he.a,null,c.a.createElement(ye.a,null,c.a.createElement(we.a,null,c.a.createElement(Tt,null,"SAP ID"),c.a.createElement(Tt,null,"Name"),c.a.createElement(Tt,null,"Time"),c.a.createElement(Tt,null,"Edit"))),c.a.createElement(be.a,null,p.length>0&&p.map(function(e,t){return e.attendance_list.map(function(a,n){return c.a.createElement(we.a,{className:C.row,key:a.id},c.a.createElement(Tt,{component:"th",scope:"row"},a.sapID),c.a.createElement(Tt,null,a.name),c.a.createElement(Tt,null,e.time),c.a.createElement(Tt,{component:"th",scope:"row"},c.a.createElement(At.a,{checked:1===a.attendance,onChange:S.bind(void 0,t,n),value:a.Sap_id})))})}))))),c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:2},c.a.createElement(de,{startDate:r,handleChange:function(e){o(e)},updateChange:function(){var e=r,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();m(t+"-"+a+"-"+n)}})),c.a.createElement(Q.c,{item:!0,xs:12,sm:12,md:2},c.a.createElement(B.a,{variant:"contained",onClick:x,color:"primary"},"Post Change"))),w.length>0&&c.a.createElement(A.a,{variant:"h6",style:{margin:20}},w))}),_t=a(184),Wt=function(e){var t=e.component,a=Object(_t.a)(e,["component"]);return c.a.createElement(h.a,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?c.a.createElement(t,e):c.a.createElement(te.a,{to:{pathname:"/",state:{from:e.location}}})}}))},zt=(Object(w.createMuiTheme)({palette:{primary:Ct.a,secondary:Nt.a},status:{danger:"orange"}}),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(d.a,null,c.a.createElement("div",null,c.a.createElement(p.a,null,c.a.createElement(h.a,{exact:!0,path:"/",component:ft}),c.a.createElement(Wt,{exact:!0,path:"/student",component:ee}),c.a.createElement(h.a,{exact:!0,path:"/teacher",component:le}),c.a.createElement(Wt,{exact:!0,path:"/subject",component:K}),c.a.createElement(Wt,{exact:!0,path:"/attendanceTable/:div",component:De}),c.a.createElement(Wt,{exact:!0,path:"/attendanceTable/range/:div",component:Ae}),c.a.createElement(Wt,{exact:!0,path:"/editTable/:div",component:It}),c.a.createElement(Wt,{exact:!0,path:"/teachermain",component:it}),c.a.createElement(Wt,{exact:!0,path:"/attendfordate",component:wt}),c.a.createElement(Wt,{exact:!0,path:"/Student/:id",component:xt}),c.a.createElement(Wt,{exact:!0,path:"/EditPage",component:It}))))}}]),t}(n.Component)),Lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Mt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Pt=a(182),Bt=a.n(Pt),Ft=a(181),Rt=a.n(Ft),qt=Object(w.createMuiTheme)({palette:{primary:{main:Rt.a[600]},secondary:{main:Bt.a[900]}},status:{danger:"orange"}});o.a.render(c.a.createElement(w.MuiThemeProvider,{theme:qt},c.a.createElement(zt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Attendance-front",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Attendance-front","/service-worker.js");Lt?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Mt(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Mt(t,e)})}}()}},[[238,2,1]]]);
//# sourceMappingURL=main.959f1d98.chunk.js.map